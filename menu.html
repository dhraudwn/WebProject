<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>today's meal</title>
    <style>
        body{
            text-align: center;
        }
    </style>
</head>
<body>
    <script>
        function checkSelectAll(checkbox)  {
            const selectall = document.querySelector('input[name="menu_all"]');
            
            if(checkbox.checked === false)  {
                selectall.checked = false;
            }
            
            menuResult();
        }

        function selectAll(selectAll)  {
            const checkboxes = document.getElementsByName('menu');
            
            checkboxes.forEach((checkbox) => {
                checkbox.checked = selectAll.checked
            })

            menuResult();
        }

        function resetCheckbox(){
            const selectall = document.querySelector('input[name="menu_all"]');
            selectall.checked = false;
            selectAll(selectall);

            menuResult();
        }

        // 출력
        
        function menuResult(){
            const query = 'input[name="menu"]:checked';
            const selectedEls = 
            document.querySelectorAll(query);
            
            // 선택된 목록에서 value 찾기
            let result = '';
            selectedEls.forEach((el) => {
                result += el.value + ', ';
            });
            result = result.slice(0, -2);
            result += ' 메뉴를 추천드려요 :D';

            // 출력
            document.getElementById('result').innerText = result;

        }
    </script>
    

    <input type="checkbox" name="menu_all" value="전체" onclick="selectAll(this)"> 전체
    <input type="checkbox" name="menu" value="한식" onclick="checkSelectAll(this)"> 한식
    <input type="checkbox" name="menu" value="일식" onclick="checkSelectAll(this)"> 일식
    <input type="checkbox" name="menu" value="중식" onclick="checkSelectAll(this)"> 중식
    <input type="checkbox" name="menu" value="양식" onclick="checkSelectAll(this)"> 양식
    <input type="checkbox" name="menu" value="패스트푸드" onclick="checkSelectAll(this)"> 패스트푸드
    <input type="checkbox" name="menu" value="기타" onclick="checkSelectAll(this)"> 기타
    <button onclick='location.href = "result.html"'>메뉴 선택 완료</button>
    <button onclick='resetCheckbox()'>메뉴 다시 선택</button>
    <div id='result'></div>

</body>
</html>